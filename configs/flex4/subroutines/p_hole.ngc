o<p_hole> sub
	G20
	F#<_hal[flexhal.probe_SEARCH_FEED]>

	#1000 = #<_hal[flexhal.probe_MAX_HOLE_R]>
	#1020 = #<_hal[flexhal.probe_TIP_DIAM]>

	G91 G38.3 Z.0001
	#1017=#5061
	#1018=#5062

	G91 G38.2 X#1000
	#1003=#5061
	G90 G0 X#1017
	G91 G38.2 X[0-#1000]
	#1004=#5061
	#1017=[[#1003+#1004]/2]
	G90 G0 X#1017

	G91 G38.2 Y#1000
	#1005=#5062
	G90 G0 Y#1018
	G91 G38.2 Y[0-#1000]
	#1006=#5062
	#1018=[[#1005+#1006]/2]
	G90 G0 Y#1018

	G91 G38.2 X#1000
	#1003=#5061
	G90 G0 X#1017
	G91 G38.2 X[0-#1000]
	#1004=#5061
	#1017=[[#1003+#1004]/2]
	G90 G0 X#1017

	G91 G38.2 Y#1000
	#1005=#5062
	G90 G0 Y#1018
	G91 G38.2 Y[0-#1000]
	#1006=#5062
	#1018=[[#1005+#1006]/2]
	G90 G0 Y#1018

	F#<_hal[flexhal.probe_FINE_FEED]>

	G90 G0 X[#1003-0.005]
	G91 G38.2 X0.010
	#1003=#5061
	G90 G0 X[#1004+0.005]
	G91 G38.2 X-0.010
	#1004=#5061
	#1017=[[#1003+#1004]/2]
	G90 G0 X#1017

	G90 G0 Y[#1005-0.005]
	G91 G38.2 Y0.010
	#1005=#5062
	G90 G0 Y[#1006+0.005]
	G91 G38.2 Y-0.010
	#1006=#5062
	#1018=[[#1005+#1006]/2]
	G90 G0 Y#1018

	#1007=[#1003 - #1004 + #1020]
	#1008=[#1005 - #1006 + #1020]
	#1009=[[#1007 + #1008]/2]
	#1010=[atan[#1018] / [#1017]]
	#1011=[sqrt[[#1017*#1017]+[#1018*#1018]]]
	(debug, Xdia #1007 Ydia #1008 Dia #1009 Ang #1010 Dist #1011)
	(debug, X Center: #1017)
	(debug, Y Center: #1018)
o<p_hole> endsub

M2
